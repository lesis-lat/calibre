Configuration Management


    # Initialize the AWS Config client

    config_client = boto3.client('config')

    # Start the configuration recorder

    response = config_client.start_configuration_recorder(

        ConfigurationRecorderName='default'
)
print(response)


Centralized logging and monitoring in AWS
Collect logs with CloudTrail and store in S3
    aws cloudtrail create-trail --name MyTrail --s3-bucket-name secure-
    logging-bucket


Encrypt data with KMS
    aws kms create-key --description "Key for data encryption"

Activate AWS Security Hub
    aws securityhub enable-security-hub --region us-west-1

Enable Amazon Detective
 aws detective create-graph


aws ec2 enable-ebs-encryption-by-default --region 'us-east-1' 


aws ec2 describe-vpcs -> Ver todas as VPCs
aws ec2 describe-vpcs --vpc-ids vpc-0a69a5cc493a540a3 # VPC específica

aws iam list-users
aws iam list-user-policies --user-name CloudAppSecurityAWS
aws iam list-attached-user-policies --user-name velero
aws iam list-groups-for-user --user-name velero

aws route53 list-hosted-zones -> Lista os domínios gerais


aws route53 list-resource-record-sets --hosted-zone-id Z02264843N0ZZ2BQ2OWQY | jq -r '.ResourceRecordSets[].Name'


Qual usuário tem permissão de AttachUserPolicy? Com isso ele pode escalar privilégios

aws iam get-account-password-policy
aws cloudtrail describe-trails
